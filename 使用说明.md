# 🧳 银发族智能旅行助手 - 使用说明

## 📋 项目简介

这是一个专为老年人设计的智能旅行助手 Gradio 应用。基于您的需求文档开发，提供适老化设计和大字体界面，帮助老年人轻松规划旅行。

## ✨ 核心功能

### 1. 🌍 智能推荐与规划
- **目的地推荐**：根据季节、健康状况、预算和兴趣推荐适老目的地
- **行程规划**：生成舒缓、贴心的详细行程，包含无障碍设施信息

### 2. 📝 清单与导游服务
- **行前检查清单**：个性化待办事项清单（证件、药品、衣物等）
- **紧急求助功能**：一键求助按钮，快速获取帮助

### 3. 🎬 旅行游记生成
- **多模态游记生成**：基于上传的照片自动生成温馨旅行游记
- **图片生成**：根据描述生成配图和视频素材

## 🚀 快速开始

### 方式一：一键启动（推荐）

#### Windows 用户

**方法1：PowerShell 启动（推荐 - 完全支持UTF-8）**
```powershell
# 右键点击 start.ps1，选择"使用PowerShell运行"
# 或在PowerShell中运行：
.\start.ps1
```

**方法2：批处理文件启动**
```cmd
start.bat
```
或者双击 `start.bat` 文件

⚠️ **注意**：如果遇到中文乱码，请改用PowerShell启动（方法1）

#### Linux/macOS 用户
```bash
chmod +x start.sh
./start.sh
```

### 方式二：手动启动

1. **安装依赖**
```bash
pip install -r requirements.txt
```

2. **配置API密钥**
```bash
# 复制环境变量文件
cp .env.example .env

# 编辑.env文件，填入您的ModelScope Token
# MODELSCOPE_TOKEN=您的token值
```

3. **启动应用**
```bash
python travel_assistant.py
```

4. **访问应用**
打开浏览器，访问：http://localhost:7860

## 🔑 API Token 获取

1. 访问 [ModelScope 官网](https://modelscope.cn/usercenter/token)
2. 注册/登录账户
3. 在用户中心获取您的API Token
4. 将Token填入 `.env` 文件

## 💡 使用指南

### Tab 1：智能推荐与规划

#### 目的地推荐
1. 选择出行季节
2. 选择健康状况
3. 选择预算范围
4. 输入兴趣偏好
5. 点击"🔍 推荐目的地"
6. 查看思考过程和推荐结果

#### 行程规划
1. 输入目的地
2. 选择旅行时长
3. 选择行动能力
4. 输入健康关注点
5. 点击"📋 制定行程"
6. 查看详细行程安排

### Tab 2：清单与导游服务

#### 行前准备清单
1. 输入目的地
2. 选择旅行时长
3. 输入特殊需求
4. 点击"📋 生成清单"
5. 查看个性化检查清单

#### 紧急求助
- 点击"🚨 紧急求助"按钮可快速获取帮助信息

### Tab 3：旅行游记生成

#### 照片上传与游记生成
1. 上传旅行照片（支持多张）
2. 输入补充信息（可选）
3. 点击"✨ 生成游记"
4. 查看温馨的旅行游记

#### 视频生成
1. 查看自动生成的视频prompt
2. 可编辑prompt内容
3. 点击"🔄 重新生成图片"

## 🎨 适老化设计特点

- **大字体**：所有文本使用20px以上字体
- **大按钮**：操作按钮采用大尺寸设计
- **高对比度**：使用紫色+青色配色，对比鲜明
- **清晰布局**：极简导航，减少视觉干扰
- **友好提示**：通俗易懂的语言提示

## ⚙️ 系统要求

- Python 3.8+
- 内存：建议4GB以上
- 网络：需要访问ModelScope API

## 📝 注意事项

1. **API Token安全**：请妥善保管您的ModelScope Token，不要提交到代码仓库
2. **网络要求**：应用需要访问ModelScope API，请确保网络畅通
3. **图片格式**：上传照片支持 JPG、PNG 等常见格式
4. **响应时间**：AI生成内容需要一定时间，请耐心等待

## 🛠️ 自定义配置

### 修改端口
编辑 `travel_assistant.py` 文件的最后部分：
```python
app.launch(
    server_port=8080,  # 修改为您想要的端口
    ...
)
```

### 修改主题
编辑 `travel_assistant.py` 中的 `theme` 参数：
```python
theme=gr.themes.Soft(
    primary_hue="purple",    # 主色调
    secondary_hue="cyan",    # 次要色调
    ...
)
```

## ❓ 常见问题

**Q: Windows启动时出现中文乱码怎么办？**
A: 这是Windows CMD编码问题。建议改用PowerShell启动：
   - 右键点击 `start.ps1` → 选择"使用PowerShell运行"
   - 或在PowerShell中运行：`.\start.ps1`

**Q: 提示"未找到MODELSCOPE_TOKEN"怎么办？**
A: 请检查 `.env` 文件是否正确配置，并重启应用。

**Q: 图片生成失败怎么办？**
A: 请检查网络连接和API Token是否有效。

**Q: 响应速度慢怎么办？**
A: 这是正常的，AI生成需要计算时间，建议耐心等待。

**Q: 如何更新应用？**
A: 拉取最新代码后，重新运行 `pip install -r requirements.txt`

**Q: PowerShell执行策略限制怎么办？**
A: 以管理员身份运行PowerShell，执行：
   ```powershell
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```
   然后重新运行 `start.ps1`

## 📞 技术支持

如遇到问题，请：
1. 查看控制台错误信息
2. 检查网络连接
3. 确认API Token有效
4. 参考常见问题解答

## 📄 许可证

本项目仅供学习和个人使用。

---

❤️ 让科技温暖银发生活
